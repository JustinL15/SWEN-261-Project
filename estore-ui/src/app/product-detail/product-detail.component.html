<body>
  <div *ngIf="product">
    <!-- do a grid instead maybe. Just a 1x2 -->
    <h2>{{product.name}}</h2>

    <img src="https://cdn.discordapp.com/attachments/930865385778061373/1089236013391560865/jessica.png" id="proImage">
    <div class="productAbout">
      <div class="front"><span>About: </span></div>
      <div>{{product.description}}</div>
      <br>
      <div><span class="front">Price: </span>${{product.price}}
      </div>
      <br>
      <div><span class="front">Category: </span>{{product.category}}
      </div>
      <br>
      <div><span class="front">Quantity: </span>{{product.quantity}}
      </div>
      <br>
      <input type="text" [(ngModel)]="quantity">
      <button type="button" (click)="addToCart(); goBack()" class="buy">Add to cart</button>
      <br>
      <br>
      {{errorMessage}}
      <br>
    </div>
  </div>
  <mat-grid-list cols="3" rowHeight="2:1">
    <mat-grid-tile></mat-grid-tile>
    <mat-grid-tile><button type="button" (click)="goBack()" class="back">go back</button></mat-grid-tile>
    <mat-grid-tile></mat-grid-tile>
  </mat-grid-list>
  <div class="reviews">
    <!-- Add a review form -->
    <div class="column">
      <div>
          <label for="review-rating" class="front">Rating: </label>
          <input id="review-rating" [(ngModel)]="tempReview.stars"/>
      </div>
      <br>
      <div>
          <label for="quantity" class="front">Content: </label>
          <input id="quantity" [(ngModel)]="tempReview.reviewContent"/>
      </div>

      <!-- Allow the user to submit -->
      <button type="button" (click)="addReview()" class="addReview">Submit/Edit Review</button>
    </div>
    <br>
    <div class="front">
      <span>Reviews: </span>
      <span *ngFor="let review of reviews">
        <span *ngIf="product && review.productId === product.id">
          <!-- TODO Add a ngIf to check if this is my review and highlight it -->
          <div class="review">
            <div class="front">
              <span>Rating: </span>
            </div>
            <div>{{review.stars}}/5</div>
            <br>
            <div class="front">
              <span>Content: </span>
            </div>
            <div>{{review.reviewContent}}</div>
            <br>
            <div class="front">
              <span *ngIf="review.ownerResponse !== ''">Owner Response: </span>
            </div>
            <div>{{review.ownerResponse}}</div>
          </div>
        </span>
      </span>
    </div>

  </div>
</body>